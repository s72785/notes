% https://www.tug.org/PSTricks/pst-node/psmatrix/flowchart.tex
% PS-Tricks: https://www.tug.org/PSTricks/main.cgi?file=pst-node/psmatrix/psmatrix#flowchart

\documentclass{article}
\usepackage{pstricks}
\usepackage{pst-node}
\usepackage{pst-blur}
\definecolor{Pink}{rgb}{1.,0.75,0.8}
\pagestyle{empty}
\begin{document}

Flow diagram with the psmatrix environment

\vspace{0.5cm}
\small
\psframebox[linearc=0.5,cornersize=absolute,framesep=10pt]{%
  \psset{shadowcolor=black!70,blur=true}%
  \begin{psmatrix}[rowsep=0.4,colsep=0.5]
    \psovalbox[fillstyle=solid,fillcolor=yellow,shadow=true]{Begin} \\
    \psframebox[shadow=true]{Initialisations} \\
    \psdiabox[fillstyle=solid,fillcolor=Pink,shadow=true]{Special} &
       \psframebox[shadow=true]{Call to SP1} & \psframebox[shadow=true]{Call to SP2} \\
    \psframebox[shadow=true]{Action 1} \\
    ~\\
    \psframebox[shadow=true]{Action 2} \\
    \psovalbox[fillstyle=solid,fillcolor=yellow,shadow=true]{End}
    % Links
    \ncline{->}{1,1}{2,1}
    \ncline{->}{2,1}{3,1}
    \ncline{->}{3,1}{4,1}<{\textcolor{red}{No}}
    \ncline{->}{4,1}{6,1}
    \ncline{->}{6,1}{7,1}
    \ncline{->}{3,1}{3,2}^{\textcolor{red}{Yes}}
    \ncline{->}{3,2}{3,3}
    \ncbar[angleA=-90,armB=0,nodesepB=0.25]{->}{3,3}{4,1}
    \end{psmatrix}%
}

\bigskip
\begin{verbatim}
\usepackage{pstricks}
\usepackage{pst-node}
\definecolor{Pink}{rgb}{1.,0.75,0.8}

\small
\psframebox[linearc=0.5,cornersize=absolute]{%
  \psset{shadowcolor=black!70,blur=true}%
  \begin{psmatrix}[rowsep=0.4,colsep=0.5]
    \psovalbox[fillstyle=solid,fillcolor=yellow,shadow=true]{Begin} \\
    \psframebox[shadow=true]{Initialisations} \\
    \psdiabox[fillstyle=solid,fillcolor=Pink,shadow=true]{Special} &
       \psframebox[shadow=true]{Call to SP1} & \psframebox[shadow=true]{Call to SP2} \\
    \psframebox[shadow=true]{Action 1} \\
    ~\\
    \psframebox[shadow=true]{Action 2} \\
    \psovalbox[fillstyle=solid,fillcolor=yellow,shadow=true]{End}
    % Links
    \ncline{->}{1,1}{2,1}
    \ncline{->}{2,1}{3,1}
    \ncline{->}{3,1}{4,1}<{\textcolor{red}{No}}
    \ncline{->}{4,1}{6,1}
    \ncline{->}{6,1}{7,1}
    \ncline{->}{3,1}{3,2}^{\textcolor{red}{Yes}}
    \ncline{->}{3,2}{3,3}
    \ncbar[angleA=-90,armB=0,nodesepB=0.25]{->}{3,3}{4,1}
    \end{psmatrix}%
}
\end{verbatim}

\end{document}
